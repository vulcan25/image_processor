<html>
<head>
  <title> processor/app  </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.0/dropzone.css" integrity="sha256-0Z6mOrdLEtgqvj7tidYQnCYWG3G2GAIpatAWKhDx+VM=" crossorigin="anonymous" />
</head>
<body>
  <h1> Directly process an image...  </h1>
  <form method='POST'
        enctype="multipart/form-data"
        class="dropzone"
        id="my-awesome-dropzone">
  </form>
  <ul id='list'>
  </ul>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.0/dropzone.js" integrity="sha256-NLit4Z57jz8npRHkopjfr68hSZY1x/ruN0T8kf68xq4=" crossorigin="anonymous"></script>
  
  <script type='text/javascript'>
  	Dropzone.autoDiscover = false;
  	var myDropzone = new Dropzone("form#my-awesome-dropzone",
    { url: "/upload",
  });


   myDropzone.on('success', function (file, response) {
	// My crappy javascript skillz:
	var ul = document.getElementById('list' );
	li = document.createElement('li');

	var img = document.createElement('img');  
        img.src = response['id'];	

	p = document.createElement('p');
        p.innerText = response['info']['object_string'];
        p.innerText += ' | ' + response['info']['timings'];

	li.appendChild(img);
	li.appendChild(p)
	ul.appendChild(li);
   });


  </script>
</body>
</html>
